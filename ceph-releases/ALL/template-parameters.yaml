template:
  web-installs:
    # definitions are provided here as a sensible default for all distros that wish to install the
    # package in question via a `wget` and manual extraction. These definitions are placed in the
    # `ceph-releases/ALL/` dir rather than `src/`, as installation of packages by the system package
    # manager is the preferred method when possible.

    kubectl: |-
      echo 'Web install kubectl' && \
            KUBECTL_VERSION=v1.6.0 && \
            # Assume linux
            KUBECTL_ARCH=STAGE_REPLACE_WITH_GO_ARCH && \
            wget -q -O /usr/local/bin/kubectl \
              "https://storage.googleapis.com/kubernetes-release/release/${KUBECTL_VERSION}/bin/linux/${KUBECTL_ARCH}/kubectl" && \
            chmod +x /usr/local/bin/kubectl

    forego: |-
      echo 'Install forego' && \
            # Assume linux
            FOREGO_ARCH=linux-STAGE_REPLACE_WITH_GO_ARCH && \
            wget -q -O /forego.tgz \
              "https://bin.equinox.io/c/ekMN3bCZFUn/forego-stable-${FOREGO_ARCH}.tgz" && \
            cd /usr/local/bin && tar xfz /forego.tgz && chmod +x /usr/local/bin/forego && rm /forego.tgz

    etcdctl: |-
      echo 'Web install etcdctl' && \
            ETCDCTL_VERSION=v2.2.4 && \
            # Assume linux
            ETCDCTL_ARCH=linux-STAGE_REPLACE_WITH_GO_ARCH && \
            wget -q -O- \
              "https://github.com/coreos/etcd/releases/download/${ETCDCTL_VERSION}/etcd-${ETCDCTL_VERSION}-${ETCDCTL_ARCH}.tar.gz" | \
              tar xfz - -C/tmp/ etcd-${ETCDCTL_VERSION}-${ETCDCTL_ARCH}/etcdctl && \
            mv /tmp/etcd-${ETCDCTL_VERSION}-${ETCDCTL_ARCH}/etcdctl /usr/local/bin/etcdctl

    confd: |-
      echo 'Web install confd' && \
            CONFD_VERSION=0.10.0 && \
            # Assume linux
            CONFD_ARCH=linux-{{ env['GO_ARCH'] }} && \
            wget -q -O /usr/local/bin/confd \
              "https://github.com/kelseyhightower/confd/releases/download/v${CONFD_VERSION}/confd-${CONFD_VERSION}-${CONFD_ARCH}" && \
            chmod +x /usr/local/bin/confd && mkdir -p /etc/confd/conf.d && mkdir -p /etc/confd/templates
